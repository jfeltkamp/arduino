import{a as s,t as c,c as V}from"../chunks/disclose-version.CVdQhuh4.js";import{H as G,M as b,I as D,O as k,K as C,N as m,a as e,J as N,i as S,b as z,aB as P,t as X}from"../chunks/runtime.CdqqS4Bm.js";import{l as F,s as Q,T as Y,o as Z,d as $}from"../chunks/Tasks.D9j1lh0R.js";import{i as q,p as T,o as tt}from"../chunks/index-client.DBmkXexQ.js";import{d as K,s as W,a as O,b as E}from"../chunks/store.D6nl9me4.js";import{h as et,s as J,e as R,i as U,b as at}from"../chunks/size.BnFFJ2ou.js";import{p as B}from"../chunks/props.DaeUU8jY.js";var rt=(p,t,n)=>t()(e(n)),it=c("<dt>Azimuth</dt><dd> </dd>",1),ot=c("<dt>Altitude</dt><dd> </dd>",1),lt=c('<figure class="svelte-15wp8jp"><img class="thumbnail--img svelte-15wp8jp" loading="lazy"> <figcaption class="svelte-15wp8jp"> </figcaption></figure> <div class="thumbnail--overlay svelte-15wp8jp"><dl><!> <!></dl></div>',1),st=c("<dt> </dt>"),nt=c("<dt> </dt>"),vt=c('<div class="collection svelte-15wp8jp"><h3> </h3> <p> </p> <dl><!> <!></dl></div>'),ct=c('<button class="thumbnail svelte-15wp8jp" type="button" aria-label="select item"><!> <!></button>');function dt(p,t){G(t,!0);const n=W(),w=()=>E(F,"$locOrigin",n),f=B(t,"thumbClick",3,()=>{}),r=S(()=>{var g;return(g=t.item)!=null&&g.path?t.item.path:t.key}),i=S(()=>{var g,v;return{isCollection:!!((g=t.item)!=null&&g.location),isImage:!!((v=t.item)!=null&&v.path),datetime:"",...t.item}});var o=ct();o.__click=[rt,f,r];var d=b(o);q(d,()=>e(i).isImage,g=>{var v=lt(),h=D(v),x=b(h),y=k(x,2),L=b(y,!0);C(()=>O(L,new Date(e(i).datetime).toLocaleString())),m(y),m(h);var j=k(h,2),A=b(j),l=b(A);q(l,()=>{var _,u;return(u=(_=e(i))==null?void 0:_.position)==null?void 0:u.deg_x},_=>{var u=it(),I=k(D(u)),H=b(I);m(I),C(()=>O(H,`${e(i).position.deg_x??""}°`)),s(_,u)});var a=k(l,2);q(a,()=>{var _,u;return(u=(_=e(i))==null?void 0:_.position)==null?void 0:u.deg_y},_=>{var u=ot(),I=k(D(u)),H=b(I);m(I),C(()=>O(H,`${e(i).position.deg_y??""}°`)),s(_,u)}),m(A),m(j),C(()=>{J(x,"src",w()+e(r)),J(x,"alt",e(r))}),et(x),s(g,v)});var M=k(d,2);q(M,()=>e(i).isCollection,g=>{var v=vt(),h=b(v),x=b(h,!0);m(h);var y=k(h,2),L=b(y,!0);C(()=>O(L,new Date(e(i).datetime).toLocaleString())),m(y);var j=k(y,2),A=b(j);q(A,()=>{var a;return(a=e(i).location)==null?void 0:a.lat},a=>{var _=st(),u=b(_);m(_),C(()=>O(u,`Lat: ${e(i).location.lat??""}°`)),s(a,_)});var l=k(A,2);q(l,()=>{var a;return(a=e(i).location)==null?void 0:a.lon},a=>{var _=nt(),u=b(_);m(_),C(()=>O(u,`Lon: ${e(i).location.lon??""}°`)),s(a,_)}),m(j),m(v),C(()=>{var a;return O(x,(a=e(i).location)==null?void 0:a.addr)}),s(g,v)}),m(o),s(p,o),N()}K(["click"]);var _t=(p,t)=>t(1),ut=c('<button class="pager-button svelte-tb602e">&laquo;</button>'),mt=c('<div class="ghost svelte-tb602e">&nbsp;</div>'),gt=(p,t,n)=>t(e(n)-1),bt=c('<button class="pager-button svelte-tb602e">&lsaquo;</button>'),ht=c('<div class="ghost svelte-tb602e">&nbsp;</div>'),ft=c("<button> </button>"),yt=(p,t,n)=>t(e(n)+1),kt=c('<button class="pager-button svelte-tb602e">&rsaquo;</button>'),pt=c('<div class="ghost svelte-tb602e">&nbsp;</div>'),xt=(p,t,n)=>t(n.pages),wt=c('<button class="pager-button svelte-tb602e">&raquo;</button>'),Mt=c('<div class="ghost svelte-tb602e">&nbsp;</div>'),qt=c('<div class="pager svelte-tb602e"><!> <!> <!> <!> <!></div>');function Ct(p,t){G(t,!0);const n=B(t,"listMax",3,7),w=B(t,"callback",3,()=>{});let f=P(1080),r=P(1),i=S(()=>Math.min(t.pages,n())),o=S(()=>Math.max(1,Math.min(e(r)-Math.floor(n()/2),t.pages-n()+1)));function d(v){z(r,T(v)),w()(v)}var M=V(),g=D(M);q(g,()=>t.pages>1,v=>{var h=qt(),x=b(h);q(x,()=>e(r)>2,l=>{var a=ut();a.__click=[_t,d],s(l,a)},l=>{var a=mt();s(l,a)});var y=k(x,2);q(y,()=>e(r)>1,l=>{var a=bt();a.__click=[gt,d,r],s(l,a)},l=>{var a=ht();s(l,a)});var L=k(y,2);R(L,17,()=>Array(e(i)),U,(l,a,_)=>{var u=ft();u.__click=()=>d(_+e(o));var I=b(u,!0);m(u),C(()=>{Q(u,`pager-button${(_+e(o)===e(r)?" active":"")??""} svelte-tb602e`),O(I,_+e(o))}),s(l,u)});var j=k(L,2);q(j,()=>e(r)<t.pages,l=>{var a=kt();a.__click=[yt,d,r],s(l,a)},l=>{var a=pt();s(l,a)});var A=k(j,2);q(A,()=>e(r)<t.pages-1,l=>{var a=wt();a.__click=[xt,d,t],s(l,a)},l=>{var a=Mt();s(l,a)}),m(h),at(h,"clientWidth",l=>z(f,l)),s(v,h)}),s(p,M),N()}K(["click"]);var Lt=c('<div class="gallery-items svelte-1mryv64"></div> <!>',1);function jt(p,t){G(t,!0);const n=B(t,"items",19,()=>[]),w=12;let f=P(1),r=S(()=>n().slice((e(f)-1)*w,e(f)*w)),i=S(()=>Math.ceil(n().length/w));const o=()=>z(f,1);X(()=>{n().length>=0&&o()});var d=Lt(),M=D(d);R(M,21,()=>e(r),U,(v,h,x)=>{dt(v,{get item(){return e(h)},key:x,get thumbClick(){return t.thumbClick}})}),m(M);var g=k(M,2);Ct(g,{get pages(){return e(i)},callback:v=>{z(f,T(v))}}),s(p,d),N()}var Ot=c('<button class="button breadcrumb--item svelte-1fqb247" type="button">Start</button> <h2 class="breadcrumb--item svelte-1fqb247" type="button"> </h2>',1),St=c('<div class="breadcrumb svelte-1fqb247"><!></div>');function zt(p,t){G(t,!0);const n=B(t,"reset",3,()=>{}),w=S(()=>{var o,d;return t.item&&((d=(o=t.item)==null?void 0:o.location)!=null&&d.addr)?t.item.location.addr:""}),f=S(()=>{var o;return t.item&&((o=t.item)!=null&&o.datetime)?new Date(t.item.datetime).toLocaleString():""});var r=St(),i=b(r);q(i,()=>t.item,o=>{var d=Ot(),M=D(d);M.__click=function(...h){var x;(x=n())==null||x.apply(this,h)};var g=k(M,2),v=b(g);m(g),C(()=>O(v,`» ${e(f)??""} (${e(w)??""})`)),s(o,d)}),m(r),s(p,r),N()}K(["click"]);var At=c('<div class="gallery-enlarged svelte-1h0v2yr"><img alt="enlarged" class="svelte-1h0v2yr"></div>'),It=c('<div class="gallery svelte-1h0v2yr"><!> <!> <!></div>');function Dt(p,t){G(t,!0);const n=W(),w=()=>E(F,"$locOrigin",n),f=B(t,"items",19,()=>[]);let r=P(void 0),i=S(()=>{var y;return typeof e(r)=="number"&&((y=f()[e(r)])!=null&&y.images)?f()[e(r)].images:f()}),o=P(void 0);const d=()=>{z(r,null)};function M(y){typeof y=="number"?z(r,T(y)):z(o,T(y))}var g=It(),v=b(g);q(v,()=>e(o),y=>{var L=At(),j=b(L);m(L),C(()=>J(j,"src",w()+e(o))),s(y,L)});var h=k(v,2);zt(h,{get item(){return f()[e(r)]},reset:d});var x=k(h,2);jt(x,{get items(){return e(i)},thumbClick:M}),m(g),s(p,g),N()}var Pt=c("<div><!> <!></div>");function Wt(p,t){G(t,!0);const n=W(),w=()=>E($,"$daylight",n);let f=P(T([]));tt(()=>{Z("/gallery",d=>{z(f,T(d))})});var r=Pt(),i=b(r);Y(i);var o=k(i,2);Dt(o,{get items(){return e(f)}}),m(r),C(()=>Q(r,`container ${(w()?"daylight":"")??""} svelte-1u7vqrw`)),s(p,r),N()}export{Wt as component};
