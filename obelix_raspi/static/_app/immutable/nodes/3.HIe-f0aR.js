import{a as s,t as v,c as V}from"../chunks/disclose-version.CVdQhuh4.js";import{H as B,M as b,I as D,O as f,K as C,N as u,a as e,J as G,i as S,b as I,aB as P}from"../chunks/runtime.CdqqS4Bm.js";import{l as F,s as Q,T as X,o as Y,d as Z}from"../chunks/Tasks.CngnjHnT.js";import{i as q,p as T,o as $}from"../chunks/index-client.DBmkXexQ.js";import{d as K,s as W,a as O,b as E}from"../chunks/store.D6nl9me4.js";import{h as tt,s as J,e as R,i as U,b as et}from"../chunks/size.BnFFJ2ou.js";import{p as N}from"../chunks/props.DaeUU8jY.js";var at=(k,t,n)=>t()(e(n)),rt=v("<dt>Azimuth</dt><dd> </dd>",1),it=v("<dt>Altitude</dt><dd> </dd>",1),ot=v('<figure class="svelte-15wp8jp"><img class="thumbnail--img svelte-15wp8jp" loading="lazy"> <figcaption class="svelte-15wp8jp"> </figcaption></figure> <div class="thumbnail--overlay svelte-15wp8jp"><dl><!> <!></dl></div>',1),lt=v("<dt> </dt>"),st=v("<dt> </dt>"),nt=v('<div class="collection svelte-15wp8jp"><h3> </h3> <p> </p> <dl><!> <!></dl></div>'),vt=v('<button class="thumbnail svelte-15wp8jp" type="button" aria-label="select item"><!> <!></button>');function ct(k,t){B(t,!0);const n=W(),w=()=>E(F,"$locOrigin",n),p=N(t,"thumbClick",3,()=>{}),r=S(()=>{var g;return(g=t.item)!=null&&g.path?t.item.path:t.key}),o=S(()=>{var g,c;return{isCollection:!!((g=t.item)!=null&&g.location),isImage:!!((c=t.item)!=null&&c.path),datetime:"",...t.item}});var i=vt();i.__click=[at,p,r];var m=b(i);q(m,()=>e(o).isImage,g=>{var c=ot(),y=D(c),x=b(y),h=f(x,2),L=b(h,!0);C(()=>O(L,new Date(e(o).datetime).toLocaleString())),u(h),u(y);var j=f(y,2),z=b(j),l=b(z);q(l,()=>{var d,_;return(_=(d=e(o))==null?void 0:d.position)==null?void 0:_.deg_x},d=>{var _=rt(),A=f(D(_)),H=b(A);u(A),C(()=>O(H,`${e(o).position.deg_x??""}°`)),s(d,_)});var a=f(l,2);q(a,()=>{var d,_;return(_=(d=e(o))==null?void 0:d.position)==null?void 0:_.deg_y},d=>{var _=it(),A=f(D(_)),H=b(A);u(A),C(()=>O(H,`${e(o).position.deg_y??""}°`)),s(d,_)}),u(z),u(j),C(()=>{J(x,"src",w()+e(r)),J(x,"alt",e(r))}),tt(x),s(g,c)});var M=f(m,2);q(M,()=>e(o).isCollection,g=>{var c=nt(),y=b(c),x=b(y,!0);u(y);var h=f(y,2),L=b(h,!0);C(()=>O(L,new Date(e(o).datetime).toLocaleString())),u(h);var j=f(h,2),z=b(j);q(z,()=>{var a;return(a=e(o).location)==null?void 0:a.lat},a=>{var d=lt(),_=b(d);u(d),C(()=>O(_,`Lat: ${e(o).location.lat??""}°`)),s(a,d)});var l=f(z,2);q(l,()=>{var a;return(a=e(o).location)==null?void 0:a.lon},a=>{var d=st(),_=b(d);u(d),C(()=>O(_,`Lon: ${e(o).location.lon??""}°`)),s(a,d)}),u(j),u(c),C(()=>{var a;return O(x,(a=e(o).location)==null?void 0:a.addr)}),s(g,c)}),u(i),s(k,i),G()}K(["click"]);var dt=(k,t)=>t(1),_t=v('<button class="pager-button svelte-tb602e">&laquo;</button>'),ut=v('<div class="ghost svelte-tb602e">&nbsp;</div>'),mt=(k,t,n)=>t(e(n)-1),gt=v('<button class="pager-button svelte-tb602e">&lsaquo;</button>'),bt=v('<div class="ghost svelte-tb602e">&nbsp;</div>'),ht=v("<button> </button>"),ft=(k,t,n)=>t(e(n)+1),yt=v('<button class="pager-button svelte-tb602e">&rsaquo;</button>'),kt=v('<div class="ghost svelte-tb602e">&nbsp;</div>'),pt=(k,t,n)=>t(n.pages),xt=v('<button class="pager-button svelte-tb602e">&raquo;</button>'),wt=v('<div class="ghost svelte-tb602e">&nbsp;</div>'),Mt=v('<div class="pager svelte-tb602e"><!> <!> <!> <!> <!></div>');function qt(k,t){B(t,!0);const n=N(t,"listMax",3,7),w=N(t,"callback",3,()=>{});let p=P(1080),r=P(1),o=S(()=>Math.min(t.pages,n())),i=S(()=>Math.max(1,Math.min(e(r)-Math.floor(n()/2),t.pages-n()+1)));function m(c){I(r,T(c)),w()(c)}var M=V(),g=D(M);q(g,()=>t.pages>1,c=>{var y=Mt(),x=b(y);q(x,()=>e(r)>2,l=>{var a=_t();a.__click=[dt,m],s(l,a)},l=>{var a=ut();s(l,a)});var h=f(x,2);q(h,()=>e(r)>1,l=>{var a=gt();a.__click=[mt,m,r],s(l,a)},l=>{var a=bt();s(l,a)});var L=f(h,2);R(L,17,()=>Array(e(o)),U,(l,a,d)=>{var _=ht();_.__click=()=>m(d+e(i));var A=b(_,!0);u(_),C(()=>{Q(_,`pager-button${(d+e(i)===e(r)?" active":"")??""} svelte-tb602e`),O(A,d+e(i))}),s(l,_)});var j=f(L,2);q(j,()=>e(r)<t.pages,l=>{var a=yt();a.__click=[ft,m,r],s(l,a)},l=>{var a=kt();s(l,a)});var z=f(j,2);q(z,()=>e(r)<t.pages-1,l=>{var a=xt();a.__click=[pt,m,t],s(l,a)},l=>{var a=wt();s(l,a)}),u(y),et(y,"clientWidth",l=>I(p,l)),s(c,y)}),s(k,M),G()}K(["click"]);var Ct=v('<div class="gallery-items svelte-1mryv64"></div> <!>',1);function Lt(k,t){B(t,!0);const n=12;let w=P(1),p=S(()=>t.items.slice((e(w)-1)*n,e(w)*n)),r=S(()=>Math.ceil(t.items.length/n));var o=Ct(),i=D(o);R(i,21,()=>e(p),U,(M,g,c)=>{ct(M,{get item(){return e(g)},key:c,get thumbClick(){return t.thumbClick}})}),u(i);var m=f(i,2);qt(m,{get pages(){return e(r)},callback:M=>{I(w,T(M))}}),s(k,o),G()}var jt=v('<button class="button breadcrumb--item svelte-1fqb247" type="button">Start</button> <h2 class="breadcrumb--item svelte-1fqb247" type="button"> </h2>',1),Ot=v('<div class="breadcrumb svelte-1fqb247"><!></div>');function St(k,t){B(t,!0);const n=N(t,"reset",3,()=>{}),w=S(()=>{var i,m;return t.item&&((m=(i=t.item)==null?void 0:i.location)!=null&&m.addr)?t.item.location.addr:""}),p=S(()=>{var i;return t.item&&((i=t.item)!=null&&i.datetime)?new Date(t.item.datetime).toLocaleString():""});var r=Ot(),o=b(r);q(o,()=>t.item,i=>{var m=jt(),M=D(m);M.__click=function(...y){var x;(x=n())==null||x.apply(this,y)};var g=f(M,2),c=b(g);u(g),C(()=>O(c,`» ${e(p)??""} (${e(w)??""})`)),s(i,m)}),u(r),s(k,r),G()}K(["click"]);var zt=v('<div class="gallery-enlarged svelte-1h0v2yr"><img alt="enlarged" class="svelte-1h0v2yr"></div>'),At=v('<div class="gallery svelte-1h0v2yr"><!> <!> <!></div>');function It(k,t){B(t,!0);const n=W(),w=()=>E(F,"$locOrigin",n),p=N(t,"items",19,()=>[]);let r=P(void 0),o=S(()=>{var h;return typeof e(r)=="number"&&((h=p()[e(r)])!=null&&h.images)?p()[e(r)].images:p()}),i=P(void 0);const m=()=>{I(r,null)};function M(h){typeof h=="number"?I(r,T(h)):I(i,T(h))}var g=At(),c=b(g);q(c,()=>e(i),h=>{var L=zt(),j=b(L);u(L),C(()=>J(j,"src",w()+e(i))),s(h,L)});var y=f(c,2);St(y,{get item(){return p()[e(r)]},reset:m});var x=f(y,2);Lt(x,{get items(){return e(o)},thumbClick:M}),u(g),s(k,g),G()}var Dt=v("<div><!> <!></div>");function Kt(k,t){B(t,!0);const n=W(),w=()=>E(Z,"$daylight",n);let p=P(T([]));$(()=>{Y("/gallery",m=>{I(p,T(m))})});var r=Dt(),o=b(r);X(o);var i=f(o,2);It(i,{get items(){return e(p)}}),u(r),C(()=>Q(r,`container ${(w()?"daylight":"")??""} svelte-1u7vqrw`)),s(k,r),G()}export{Kt as component};
