import{O as T,P as g,Q as h,R as N,S as P,N as k,T as q,U as x,n as y,V as B,g as D}from"./runtime.BzVitypH.js";import{s as M}from"./utils.C1C9Igtt.js";const Q=new Set,R=new Set;function j(r){for(var a=0;a<r.length;a++)Q.add(r[a]);for(var t of R)t(r)}function z(r){var v;var a=this,t=a.ownerDocument,s=r.type,n=((v=r.composedPath)==null?void 0:v.call(r))||[],e=n[0]||r.target,_=0,d=r.__root;if(d){var c=n.indexOf(d);if(c!==-1&&(a===document||a===window)){r.__root=a;return}var b=n.indexOf(a);if(b===-1)return;c<=b&&(_=c)}if(e=n[_]||r.target,e!==a){T(r,"currentTarget",{configurable:!0,get(){return e||t}});var w=P,m=k;g(null),h(null);try{for(var i,p=[];e!==null;){var l=e.assignedSlot||e.parentNode||e.host||null;try{var u=e["__"+s];if(u!==void 0&&!e.disabled)if(N(u)){var[S,...O]=u;S.apply(e,[r,...O])}else u.call(e,r)}catch(o){i?p.push(o):i=o}if(r.cancelBubble||l===a||l===null)break;e=l}if(i){for(let o of p)queueMicrotask(()=>{throw o});throw i}}finally{r.__root=a,delete r.currentTarget,g(w),h(m)}}}let f=!1;function A(r,a,t){const s=t[a]??(t[a]={store:null,source:x(void 0),unsubscribe:y});if(s.store!==r)if(s.unsubscribe(),s.store=r??null,r==null)s.source.v=void 0,s.unsubscribe=y;else{var n=!0;s.unsubscribe=M(r,e=>{n?s.source.v=e:B(s.source,e)}),n=!1}return D(s.source)}function C(){const r={};return q(()=>{for(var a in r)r[a].unsubscribe()}),r}function E(r){var a=f;try{return f=!1,[r(),f]}finally{f=a}}export{A as a,Q as b,E as c,j as d,z as h,R as r,C as s};
